HDR =
SRC = gen.c
OBJ = $(SRC:.c=.o)
EXE ?= gen

CC = gcc

#-Wextra used to be -W
CFLAGS = -std=gnu99 -Wall -Wextra -Werror -pedantic -Wlong-long \
         -Wimplicit-function-declaration

all: $(EXE)

# define DEBUG macro while compilation
debug: CFLAGS += -DDEBUG -g3
debug: all

$(EXE): $(OBJ)
	$(CC) $(CFLAGS) -o $@ $(OBJ)
#	$(CC) $(CFLAGS) -lm -lpthread -o $@ $(OBJ)
#	-lc

.c.o:
	$(CC) $(CFLAGS) -O2 -c $<

# delete almost all files generated by configure and make
clean:
	rm -f $(OBJ)

# delete all files generated by configure and make
distclean: clean
	rm -f $(EXE) $(SUB).tar.gz $(DOCNAME).pdf
